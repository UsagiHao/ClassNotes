## 18.09.17
#### 一个好的接口要有：
* 好的抽象：抽象层次要一致
* 好的封装
### 构造函数
#### 1. 尽可能在所有构造函数中初始化所有数据成员：  
对应了不对类的使用者做任何假设  
#### 2. 优先采用深层副本：  
使用深层拷贝，开辟新的空间，以便降低复杂度  
#### 3. 注意只有一个实例化对象的类：  
使用单件模式，私有构造函数  
```
public class MaxId {
   // constructors and destructors
   private MaxId() {   ...   }      ...

   // public routines
   public static MaxId GetInstance() {       
      return m_instance;
   }     ...

   // private members
   private static final MaxId m_instance = new MaxId();       ...
}
```


## 类设计
#### 抽象数据类型ADT
指一些数据以及对这些数据所进行的操作的集合。
类 = ADT + 多态 + 继承
#### 良好的类接口
创建高质量的类的第一步，就是创建一个好的接口  
* 好的抽象  
类的接口如果不能展现出一种一致的抽象，那它的内聚性就很弱，可以考虑把子程序组织到几个职能更专一的类里去。  
每个类应该实现一个ADT并且仅实现这个ADT  
提供成对的服务：检查类的每一个公用子程序看看是否需要提供一个与其互补的操作  
把不相关的信息转移到其他类中  
尽可能让接口可编程，而不是表达语义：不对类的使用者做任何假设  
* 好的封装  
尽可能限制类和成员的可访问性  
不要公开暴露成员数据：提供get、set方法，隐藏底层实现  
！避免把私有的实现细节放到类的接口中：如private段在类的头文件中，暴露了实现细节（见书p140）  
不要对类的使用者做出任何假设  
避免使用友元类：有些场合按正确的方式使用友元类有助于管理复杂度，一般情况下友元类会破坏封装  
！要格外警惕从语义上破坏封装性：不能让调用方代码不是依赖于类的公开接口，而是依赖于类的私用实现（书p142）  
#### 有关设计和实现的问题
包含：
* 是一种has a的关系
